# Generated by Django 4.2.26 on 2025-11-26 15:48

from django.conf import settings
import django.contrib.auth.models
import django.contrib.auth.validators
import django.core.validators
from django.db import migrations, models
import django.db.models.deletion
import django.utils.timezone
import uuid


class Migration(migrations.Migration):

    initial = True

    dependencies = [
        ('auth', '0012_alter_user_first_name_max_length'),
    ]

    operations = [
        migrations.CreateModel(
            name='User',
            fields=[
                ('password', models.CharField(max_length=128, verbose_name='password')),
                ('last_login', models.DateTimeField(blank=True, null=True, verbose_name='last login')),
                ('is_superuser', models.BooleanField(default=False, help_text='Designates that this user has all permissions without explicitly assigning them.', verbose_name='superuser status')),
                ('username', models.CharField(error_messages={'unique': 'A user with that username already exists.'}, help_text='Required. 150 characters or fewer. Letters, digits and @/./+/-/_ only.', max_length=150, unique=True, validators=[django.contrib.auth.validators.UnicodeUsernameValidator()], verbose_name='username')),
                ('first_name', models.CharField(blank=True, max_length=150, verbose_name='first name')),
                ('last_name', models.CharField(blank=True, max_length=150, verbose_name='last name')),
                ('is_staff', models.BooleanField(default=False, help_text='Designates whether the user can log into this admin site.', verbose_name='staff status')),
                ('date_joined', models.DateTimeField(default=django.utils.timezone.now, verbose_name='date joined')),
                ('id', models.UUIDField(default=uuid.uuid4, editable=False, primary_key=True, serialize=False)),
                ('created_at', models.DateTimeField(auto_now_add=True, db_index=True)),
                ('updated_at', models.DateTimeField(auto_now=True)),
                ('role', models.CharField(choices=[('FARMER', 'Farmer'), ('FPO', 'Farmer Producer Organization'), ('PROCESSOR', 'Processor'), ('RETAILER', 'Retailer'), ('LOGISTICS', 'Logistics Partner'), ('WAREHOUSE', 'Warehouse Operator'), ('GOVERNMENT', 'Government Official')], help_text='User role determines access level', max_length=20)),
                ('phone_number', models.CharField(db_index=True, help_text='Primary login credential for mobile app', max_length=15, unique=True, validators=[django.core.validators.RegexValidator(message="Phone number must be valid Indian number: '+919999999999' or '9999999999'", regex='^\\+?91?\\d{10}$')])),
                ('email', models.EmailField(blank=True, db_index=True, help_text='Optional for farmers, required for web users', max_length=254, null=True, unique=True)),
                ('phone_verified', models.BooleanField(default=False, help_text='Set to True after OTP verification')),
                ('email_verified', models.BooleanField(default=False, help_text='Set to True after email verification')),
                ('approval_status', models.CharField(choices=[('PENDING', 'Pending Approval'), ('APPROVED', 'Approved'), ('REJECTED', 'Rejected'), ('SUSPENDED', 'Suspended')], db_index=True, default='PENDING', help_text='Government approval required (except for FARMER and GOVERNMENT roles)', max_length=20)),
                ('approved_at', models.DateTimeField(blank=True, null=True)),
                ('rejection_reason', models.TextField(blank=True)),
                ('preferred_language', models.CharField(choices=[('en', 'English'), ('hi', 'हिन्दी (Hindi)'), ('gu', 'ગુજરાતી (Gujarati)'), ('mr', 'मराठी (Marathi)'), ('ta', 'தமிழ் (Tamil)'), ('te', 'తెలుగు (Telugu)'), ('kn', 'ಕನ್ನಡ (Kannada)'), ('bn', 'বাংলা (Bengali)'), ('pa', 'ਪੰਜਾਬੀ (Punjabi)'), ('or', 'ଓଡ଼ିଆ (Odia)'), ('ml', 'മലയാളം (Malayalam)'), ('as', 'অসমীয়া (Assamese)')], default='en', help_text='Default app language', max_length=10)),
                ('profile_picture', models.ImageField(blank=True, help_text='Profile photo URL', null=True, upload_to='profiles/')),
                ('last_login_ip', models.GenericIPAddressField(blank=True, null=True)),
                ('login_count', models.IntegerField(default=0)),
                ('is_active', models.BooleanField(default=True)),
                ('approved_by', models.ForeignKey(blank=True, limit_choices_to={'role': 'GOVERNMENT'}, null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='approved_users', to=settings.AUTH_USER_MODEL)),
                ('groups', models.ManyToManyField(blank=True, help_text='The groups this user belongs to. A user will get all permissions granted to each of their groups.', related_name='user_set', related_query_name='user', to='auth.group', verbose_name='groups')),
                ('user_permissions', models.ManyToManyField(blank=True, help_text='Specific permissions for this user.', related_name='user_set', related_query_name='user', to='auth.permission', verbose_name='user permissions')),
            ],
            options={
                'verbose_name': 'User',
                'verbose_name_plural': 'Users',
                'db_table': 'users',
            },
            managers=[
                ('objects', django.contrib.auth.models.UserManager()),
            ],
        ),
        migrations.CreateModel(
            name='RetailerProfile',
            fields=[
                ('id', models.UUIDField(default=uuid.uuid4, editable=False, primary_key=True, serialize=False)),
                ('created_at', models.DateTimeField(auto_now_add=True, db_index=True)),
                ('updated_at', models.DateTimeField(auto_now=True)),
                ('business_name', models.CharField(max_length=200)),
                ('business_type', models.CharField(choices=[('RETAIL_CHAIN', 'Retail Chain / Supermarket'), ('KIRANA', 'Kirana / Small Retailer'), ('BRAND', 'Food Brand / Manufacturer'), ('EXPORTER', 'Exporter'), ('INSTITUTIONAL', 'Institutional Buyer (Hotels/Canteen)')], max_length=20)),
                ('gstin', models.CharField(db_index=True, max_length=15)),
                ('trade_license', models.CharField(blank=True, max_length=50)),
                ('contact_person_name', models.CharField(max_length=200)),
                ('contact_person_designation', models.CharField(max_length=100)),
                ('number_of_outlets', models.IntegerField(default=1)),
                ('main_office_address', models.TextField()),
                ('state', models.CharField(max_length=100)),
                ('city', models.CharField(max_length=100)),
                ('pincode', models.CharField(max_length=6)),
                ('monthly_oil_sales_volume', models.DecimalField(decimal_places=2, help_text='In litres', max_digits=10)),
                ('oil_types_sold', models.JSONField(default=list, help_text="['Soybean', 'Mustard', 'Sunflower', 'Blended', 'Palm']")),
                ('has_warehouse', models.BooleanField(default=False)),
                ('storage_capacity', models.DecimalField(decimal_places=2, default=0, help_text='In metric tonnes', max_digits=10)),
                ('warehouse_location', models.CharField(blank=True, max_length=200)),
                ('procurement_frequency', models.CharField(choices=[('WEEKLY', 'Weekly'), ('FORTNIGHTLY', 'Fortnightly'), ('MONTHLY', 'Monthly')], default='MONTHLY', max_length=20)),
                ('sourcing_preferences', models.JSONField(default=list, help_text="['PROCESSOR_DIRECT', 'DISTRIBUTOR', 'WHOLESALE']")),
                ('packaging_preference', models.JSONField(default=list, help_text="['BULK', 'RETAIL_BRANDED']")),
                ('fssai_license', models.CharField(blank=True, max_length=14)),
                ('fssai_certificate', models.FileField(blank=True, null=True, upload_to='retailer/fssai/')),
                ('bank_account_number', models.CharField(max_length=20)),
                ('ifsc_code', models.CharField(max_length=11)),
                ('bank_name', models.CharField(blank=True, max_length=100)),
                ('branch_name', models.CharField(blank=True, max_length=100)),
                ('cancelled_cheque', models.FileField(blank=True, null=True, upload_to='retailer/bank/')),
                ('total_purchase_volume', models.DecimalField(decimal_places=2, default=0, max_digits=12)),
                ('total_orders', models.IntegerField(default=0)),
                ('average_order_value', models.DecimalField(decimal_places=2, default=0, max_digits=10)),
                ('user', models.OneToOneField(on_delete=django.db.models.deletion.CASCADE, related_name='retailer_profile', to=settings.AUTH_USER_MODEL)),
            ],
            options={
                'db_table': 'retailer_profiles',
                'indexes': [models.Index(fields=['state', 'city'], name='retailer_pr_state_17b9b8_idx'), models.Index(fields=['business_type'], name='retailer_pr_busines_c040be_idx')],
            },
        ),
        migrations.CreateModel(
            name='ProcessorProfile',
            fields=[
                ('id', models.UUIDField(default=uuid.uuid4, editable=False, primary_key=True, serialize=False)),
                ('created_at', models.DateTimeField(auto_now_add=True, db_index=True)),
                ('updated_at', models.DateTimeField(auto_now=True)),
                ('company_name', models.CharField(max_length=200)),
                ('processor_type', models.CharField(choices=[('MILL', 'Oil Mill (Ghani/Expeller)'), ('SOLVENT', 'Solvent Extraction Plant'), ('REFINERY', 'Refinery'), ('INTEGRATED', 'Integrated (Mill + Refinery)')], max_length=20)),
                ('gstin', models.CharField(db_index=True, max_length=15, unique=True)),
                ('cin_number', models.CharField(blank=True, help_text='Company Identification Number', max_length=21)),
                ('year_of_establishment', models.IntegerField()),
                ('contact_person_name', models.CharField(max_length=200)),
                ('contact_person_designation', models.CharField(max_length=100)),
                ('plant_address', models.TextField()),
                ('state', models.CharField(max_length=100)),
                ('district', models.CharField(max_length=100)),
                ('pincode', models.CharField(max_length=6)),
                ('latitude', models.DecimalField(blank=True, decimal_places=6, max_digits=9, null=True)),
                ('longitude', models.DecimalField(blank=True, decimal_places=6, max_digits=9, null=True)),
                ('daily_crushing_capacity', models.DecimalField(decimal_places=2, help_text='Tonnes per day', max_digits=10)),
                ('annual_capacity', models.DecimalField(decimal_places=2, editable=False, help_text='Auto-calculated in tonnes/year', max_digits=10)),
                ('seeds_processed', models.JSONField(default=list, help_text="['Soybean', 'Mustard', 'Sunflower', etc.]")),
                ('operational_status', models.CharField(choices=[('FULL', 'Fully Operational'), ('PARTIAL', 'Partially Operational'), ('EXPANSION', 'Under Expansion')], default='FULL', max_length=20)),
                ('raw_material_storage', models.DecimalField(decimal_places=2, help_text='In metric tonnes', max_digits=10)),
                ('finished_oil_storage', models.DecimalField(decimal_places=2, help_text='In metric tonnes', max_digits=10)),
                ('has_own_warehouse', models.BooleanField(default=False)),
                ('has_own_fleet', models.BooleanField(default=False)),
                ('uses_third_party_logistics', models.BooleanField(default=False)),
                ('fleet_size', models.IntegerField(default=0, help_text='Number of owned vehicles')),
                ('preferred_sourcing_radius', models.IntegerField(default=100, help_text='In kilometers')),
                ('fssai_license', models.CharField(blank=True, max_length=14)),
                ('fssai_expiry', models.DateField(blank=True, null=True)),
                ('fssai_certificate', models.FileField(blank=True, null=True, upload_to='processor/fssai/')),
                ('factory_registration', models.CharField(blank=True, max_length=50)),
                ('factory_certificate', models.FileField(blank=True, null=True, upload_to='processor/factory/')),
                ('pcb_clearance', models.CharField(blank=True, max_length=50)),
                ('pcb_certificate', models.FileField(blank=True, null=True, upload_to='processor/pcb/')),
                ('has_iso_9001', models.BooleanField(default=False)),
                ('has_haccp', models.BooleanField(default=False)),
                ('has_bis', models.BooleanField(default=False)),
                ('quality_certificates', models.FileField(blank=True, null=True, upload_to='processor/quality/')),
                ('bank_account_number', models.CharField(max_length=20)),
                ('ifsc_code', models.CharField(max_length=11)),
                ('bank_name', models.CharField(blank=True, max_length=100)),
                ('branch_name', models.CharField(blank=True, max_length=100)),
                ('cancelled_cheque', models.FileField(blank=True, null=True, upload_to='processor/bank/')),
                ('procurement_methods', models.JSONField(default=list, help_text="['FPO_DIRECT', 'AGGREGATOR', 'ENAM']")),
                ('expected_monthly_procurement', models.DecimalField(decimal_places=2, help_text='In metric tonnes', max_digits=10)),
                ('interested_in_contract_farming', models.BooleanField(default=False)),
                ('current_utilization', models.DecimalField(decimal_places=2, default=0, help_text='Percentage', max_digits=5, validators=[django.core.validators.MinValueValidator(0), django.core.validators.MaxValueValidator(100)])),
                ('total_procurement_volume', models.DecimalField(decimal_places=2, default=0, max_digits=12)),
                ('total_production_volume', models.DecimalField(decimal_places=2, default=0, max_digits=12)),
                ('average_rating', models.DecimalField(decimal_places=2, default=0, max_digits=3, validators=[django.core.validators.MinValueValidator(0), django.core.validators.MaxValueValidator(5)])),
                ('user', models.OneToOneField(on_delete=django.db.models.deletion.CASCADE, related_name='processor_profile', to=settings.AUTH_USER_MODEL)),
            ],
            options={
                'db_table': 'processor_profiles',
                'indexes': [models.Index(fields=['state', 'district'], name='processor_p_state_1d6e05_idx'), models.Index(fields=['gstin'], name='processor_p_gstin_7fffaa_idx'), models.Index(fields=['processor_type'], name='processor_p_process_9b44f0_idx')],
            },
        ),
        migrations.CreateModel(
            name='LogisticsProfile',
            fields=[
                ('id', models.UUIDField(default=uuid.uuid4, editable=False, primary_key=True, serialize=False)),
                ('created_at', models.DateTimeField(auto_now_add=True, db_index=True)),
                ('updated_at', models.DateTimeField(auto_now=True)),
                ('company_name', models.CharField(max_length=200)),
                ('service_type', models.CharField(choices=[('TRANSPORT', 'Transportation Only'), ('WAREHOUSE', 'Warehousing Only'), ('3PL', 'Both (3PL Provider)')], max_length=20)),
                ('gstin', models.CharField(db_index=True, max_length=15)),
                ('contact_person_name', models.CharField(max_length=200)),
                ('fleet_small_trucks', models.IntegerField(default=0, help_text='Trucks < 5 MT')),
                ('fleet_medium_trucks', models.IntegerField(default=0, help_text='Trucks 5-10 MT')),
                ('fleet_large_trucks', models.IntegerField(default=0, help_text='Trucks > 10 MT')),
                ('fleet_tankers', models.IntegerField(default=0)),
                ('fleet_refrigerated', models.IntegerField(default=0)),
                ('has_gps_tracking', models.BooleanField(default=False)),
                ('coverage_states', models.JSONField(default=list, help_text='List of states where service is available')),
                ('transport_license', models.CharField(blank=True, max_length=50)),
                ('transport_certificate', models.FileField(blank=True, null=True, upload_to='logistics/licenses/')),
                ('warehouse_license', models.CharField(blank=True, max_length=50)),
                ('warehouse_certificate', models.FileField(blank=True, null=True, upload_to='logistics/licenses/')),
                ('insurance_certificate', models.FileField(blank=True, null=True, upload_to='logistics/insurance/')),
                ('bank_account_number', models.CharField(max_length=20)),
                ('ifsc_code', models.CharField(max_length=11)),
                ('bank_name', models.CharField(blank=True, max_length=100)),
                ('branch_name', models.CharField(blank=True, max_length=100)),
                ('cancelled_cheque', models.FileField(blank=True, null=True, upload_to='logistics/bank/')),
                ('average_rating', models.DecimalField(decimal_places=2, default=0.0, max_digits=3, validators=[django.core.validators.MinValueValidator(0), django.core.validators.MaxValueValidator(5)])),
                ('completed_deliveries', models.IntegerField(default=0)),
                ('total_distance_covered', models.DecimalField(decimal_places=2, default=0, max_digits=12)),
                ('on_time_delivery_rate', models.DecimalField(decimal_places=2, default=0, max_digits=5, validators=[django.core.validators.MinValueValidator(0), django.core.validators.MaxValueValidator(100)])),
                ('user', models.OneToOneField(on_delete=django.db.models.deletion.CASCADE, related_name='logistics_profile', to=settings.AUTH_USER_MODEL)),
            ],
            options={
                'db_table': 'logistics_profiles',
                'indexes': [models.Index(fields=['service_type'], name='logistics_p_service_eb69fd_idx')],
            },
        ),
        migrations.CreateModel(
            name='GovernmentProfile',
            fields=[
                ('id', models.UUIDField(default=uuid.uuid4, editable=False, primary_key=True, serialize=False)),
                ('created_at', models.DateTimeField(auto_now_add=True, db_index=True)),
                ('updated_at', models.DateTimeField(auto_now=True)),
                ('employee_id', models.CharField(max_length=50, unique=True)),
                ('designation', models.CharField(choices=[('NATIONAL', 'National Level (MoA&FW)'), ('STATE', 'State Level Officer'), ('DISTRICT', 'District Level Officer'), ('BLOCK', 'Block Level Officer')], max_length=20)),
                ('department', models.CharField(default='Department of Agriculture & Farmers Welfare', max_length=200)),
                ('state', models.CharField(blank=True, max_length=100)),
                ('district', models.CharField(blank=True, max_length=100)),
                ('block', models.CharField(blank=True, max_length=100)),
                ('can_approve_fpo', models.BooleanField(default=True)),
                ('can_approve_processor', models.BooleanField(default=True)),
                ('can_approve_retailer', models.BooleanField(default=True)),
                ('can_approve_logistics', models.BooleanField(default=True)),
                ('can_view_analytics', models.BooleanField(default=True)),
                ('can_export_reports', models.BooleanField(default=True)),
                ('total_approvals', models.IntegerField(default=0)),
                ('total_rejections', models.IntegerField(default=0)),
                ('last_active', models.DateTimeField(auto_now=True)),
                ('user', models.OneToOneField(on_delete=django.db.models.deletion.CASCADE, related_name='government_profile', to=settings.AUTH_USER_MODEL)),
            ],
            options={
                'db_table': 'government_profiles',
                'indexes': [models.Index(fields=['designation'], name='government__designa_620f4b_idx'), models.Index(fields=['state', 'district'], name='government__state_ae1c5d_idx')],
            },
        ),
        migrations.CreateModel(
            name='FPOProfile',
            fields=[
                ('id', models.UUIDField(default=uuid.uuid4, editable=False, primary_key=True, serialize=False)),
                ('created_at', models.DateTimeField(auto_now_add=True, db_index=True)),
                ('updated_at', models.DateTimeField(auto_now=True)),
                ('organization_name', models.CharField(max_length=200)),
                ('registration_type', models.CharField(choices=[('FPO', 'Farmer Producer Organization'), ('COOPERATIVE', 'Cooperative Society'), ('SHG', 'Self Help Group')], max_length=20)),
                ('registration_number', models.CharField(db_index=True, max_length=50, unique=True)),
                ('year_of_registration', models.IntegerField()),
                ('total_members', models.IntegerField(default=0)),
                ('contact_person_name', models.CharField(max_length=200)),
                ('contact_person_designation', models.CharField(blank=True, max_length=100)),
                ('office_address', models.TextField()),
                ('state', models.CharField(max_length=100)),
                ('district', models.CharField(max_length=100)),
                ('block', models.CharField(blank=True, max_length=100)),
                ('pincode', models.CharField(max_length=6)),
                ('latitude', models.DecimalField(blank=True, decimal_places=6, max_digits=9, null=True)),
                ('longitude', models.DecimalField(blank=True, decimal_places=6, max_digits=9, null=True)),
                ('operational_villages', models.JSONField(default=list, help_text='List of villages covered')),
                ('total_land_coverage', models.DecimalField(decimal_places=2, help_text='Total land area in acres', max_digits=10)),
                ('primary_oilseeds', models.JSONField(default=list, help_text="['Soybean', 'Mustard', 'Sunflower', etc.]")),
                ('has_storage', models.BooleanField(default=False)),
                ('has_transport', models.BooleanField(default=False)),
                ('uses_logistics_partners', models.BooleanField(default=False)),
                ('average_annual_procurement', models.DecimalField(decimal_places=2, help_text='In metric tonnes', max_digits=10)),
                ('registration_certificate', models.FileField(blank=True, null=True, upload_to='fpo/certificates/')),
                ('gstin', models.CharField(blank=True, max_length=15)),
                ('bank_account_number', models.CharField(max_length=20)),
                ('ifsc_code', models.CharField(max_length=11)),
                ('bank_name', models.CharField(blank=True, max_length=100)),
                ('branch_name', models.CharField(blank=True, max_length=100)),
                ('cancelled_cheque', models.FileField(blank=True, null=True, upload_to='fpo/bank/')),
                ('total_lots_created', models.IntegerField(default=0)),
                ('total_sales_volume', models.DecimalField(decimal_places=2, default=0, max_digits=12)),
                ('total_revenue', models.DecimalField(decimal_places=2, default=0, max_digits=12)),
                ('user', models.OneToOneField(on_delete=django.db.models.deletion.CASCADE, related_name='fpo_profile', to=settings.AUTH_USER_MODEL)),
            ],
            options={
                'verbose_name': 'FPO Profile',
                'verbose_name_plural': 'FPO Profiles',
                'db_table': 'fpo_profiles',
                'indexes': [models.Index(fields=['state', 'district'], name='fpo_profile_state_763980_idx'), models.Index(fields=['registration_number'], name='fpo_profile_registr_e7da0d_idx')],
            },
        ),
        migrations.CreateModel(
            name='FarmerProfile',
            fields=[
                ('id', models.UUIDField(default=uuid.uuid4, editable=False, primary_key=True, serialize=False)),
                ('created_at', models.DateTimeField(auto_now_add=True, db_index=True)),
                ('updated_at', models.DateTimeField(auto_now=True)),
                ('farmer_id', models.CharField(db_index=True, editable=False, help_text='Format: FRM{YEAR}{SEQUENCE} e.g., FRM2025001247', max_length=50, unique=True)),
                ('father_husband_name', models.CharField(help_text='As per Aadhaar Card', max_length=200)),
                ('date_of_birth', models.DateField(blank=True, help_text='Optional, for age verification', null=True)),
                ('gender', models.CharField(choices=[('M', 'Male'), ('F', 'Female'), ('O', 'Other')], help_text='As per Aadhaar', max_length=10)),
                ('village', models.CharField(db_index=True, help_text='Village/Town name', max_length=100)),
                ('district', models.CharField(db_index=True, max_length=100)),
                ('state', models.CharField(choices=[('Andhra Pradesh', 'Andhra Pradesh'), ('Arunachal Pradesh', 'Arunachal Pradesh'), ('Assam', 'Assam'), ('Bihar', 'Bihar'), ('Chhattisgarh', 'Chhattisgarh'), ('Goa', 'Goa'), ('Gujarat', 'Gujarat'), ('Haryana', 'Haryana'), ('Himachal Pradesh', 'Himachal Pradesh'), ('Jharkhand', 'Jharkhand'), ('Karnataka', 'Karnataka'), ('Kerala', 'Kerala'), ('Madhya Pradesh', 'Madhya Pradesh'), ('Maharashtra', 'Maharashtra'), ('Manipur', 'Manipur'), ('Meghalaya', 'Meghalaya'), ('Mizoram', 'Mizoram'), ('Nagaland', 'Nagaland'), ('Odisha', 'Odisha'), ('Punjab', 'Punjab'), ('Rajasthan', 'Rajasthan'), ('Sikkim', 'Sikkim'), ('Tamil Nadu', 'Tamil Nadu'), ('Telangana', 'Telangana'), ('Tripura', 'Tripura'), ('Uttar Pradesh', 'Uttar Pradesh'), ('Uttarakhand', 'Uttarakhand'), ('West Bengal', 'West Bengal')], db_index=True, max_length=100)),
                ('pincode', models.CharField(max_length=6, validators=[django.core.validators.RegexValidator(message='PIN Code must be exactly 6 digits', regex='^\\d{6}$')])),
                ('latitude', models.DecimalField(blank=True, decimal_places=6, help_text='Auto-captured from phone GPS', max_digits=9, null=True)),
                ('longitude', models.DecimalField(blank=True, decimal_places=6, help_text='Auto-captured from phone GPS', max_digits=9, null=True)),
                ('total_land_area', models.DecimalField(decimal_places=2, help_text='Total cultivable land in acres', max_digits=10, validators=[django.core.validators.MinValueValidator(0.1)])),
                ('primary_crops', models.JSONField(default=list, help_text="List of oilseeds grown: ['Groundnut', 'Mustard', 'Sesame', etc.]")),
                ('expected_annual_production', models.DecimalField(decimal_places=2, help_text='Expected yearly production in quintals', max_digits=10, validators=[django.core.validators.MinValueValidator(0)])),
                ('bank_account_number', models.CharField(blank=True, help_text='For receiving payments', max_length=20)),
                ('ifsc_code', models.CharField(blank=True, max_length=11, validators=[django.core.validators.RegexValidator(message='Invalid IFSC Code format', regex='^[A-Z]{4}0[A-Z0-9]{6}$')])),
                ('bank_name', models.CharField(blank=True, help_text='Auto-filled from IFSC', max_length=100)),
                ('branch_name', models.CharField(blank=True, max_length=100)),
                ('account_holder_name', models.CharField(blank=True, help_text="Should match farmer's name", max_length=200)),
                ('upi_id', models.CharField(blank=True, help_text='farmer@bank or 9999999999@upi', max_length=100)),
                ('aadhaar_verified', models.BooleanField(default=False, help_text='DigiLocker eKYC verification status')),
                ('land_records_uploaded', models.BooleanField(default=False, help_text='Land ownership documents verified')),
                ('total_transactions', models.IntegerField(default=0, editable=False, help_text='Number of completed sales')),
                ('total_revenue', models.DecimalField(decimal_places=2, default=0, editable=False, help_text='Lifetime earnings in ₹', max_digits=12)),
                ('performance_rating', models.DecimalField(decimal_places=2, default=0.0, editable=False, help_text='Average rating from buyers (0-5)', max_digits=3, validators=[django.core.validators.MinValueValidator(0), django.core.validators.MaxValueValidator(5)])),
                ('total_ratings', models.IntegerField(default=0, editable=False, help_text='Number of ratings received')),
                ('credit_score', models.IntegerField(default=500, editable=False, help_text='Farmer credit score (300-900)', validators=[django.core.validators.MinValueValidator(300), django.core.validators.MaxValueValidator(900)])),
                ('profile_completed', models.BooleanField(default=False, editable=False, help_text='True when all mandatory fields are filled')),
                ('profile_completion_percentage', models.IntegerField(default=0, editable=False, help_text='Profile completion status (0-100%)', validators=[django.core.validators.MinValueValidator(0), django.core.validators.MaxValueValidator(100)])),
                ('last_lot_created_at', models.DateTimeField(blank=True, editable=False, null=True)),
                ('last_transaction_at', models.DateTimeField(blank=True, editable=False, null=True)),
                ('is_active_seller', models.BooleanField(default=True, help_text='False if inactive for 6+ months')),
                ('user', models.OneToOneField(limit_choices_to={'role': 'FARMER'}, on_delete=django.db.models.deletion.CASCADE, related_name='farmer_profile', to=settings.AUTH_USER_MODEL)),
            ],
            options={
                'verbose_name': 'Farmer Profile',
                'verbose_name_plural': 'Farmer Profiles',
                'db_table': 'farmer_profiles',
                'indexes': [models.Index(fields=['state', 'district'], name='farmer_prof_state_3959b0_idx'), models.Index(fields=['farmer_id'], name='farmer_prof_farmer__2cd465_idx'), models.Index(fields=['village'], name='farmer_prof_village_a8a70a_idx'), models.Index(fields=['is_active_seller'], name='farmer_prof_is_acti_3c6c9d_idx')],
            },
        ),
        migrations.AddIndex(
            model_name='user',
            index=models.Index(fields=['role', 'approval_status'], name='users_role_f09533_idx'),
        ),
        migrations.AddIndex(
            model_name='user',
            index=models.Index(fields=['phone_number'], name='users_phone_n_a3b1c5_idx'),
        ),
        migrations.AddIndex(
            model_name='user',
            index=models.Index(fields=['email'], name='users_email_4b85f2_idx'),
        ),
        migrations.AddIndex(
            model_name='user',
            index=models.Index(fields=['approval_status', 'created_at'], name='users_approva_96a807_idx'),
        ),
        migrations.AddIndex(
            model_name='user',
            index=models.Index(fields=['role', 'is_active'], name='users_role_a8f2ba_idx'),
        ),
    ]
